
            <!DOCTYPE html>
            <html lang="zh-CN">
                <head>
                    <meta charset="UTF-8">
                    <title>
 Windows平台下NS2网络仿真环境的搭建 - CSDN博客
</title>

                <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/detail-60a2c245da.min.css">
                <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/themes/skin3-template/skin3-template-88717cedf2.min.css">

                <script type="text/javascript">
                var username = "";
                </script>

                <script src="https://csdnimg.cn/public/common/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>

                <!-- 新版上报 -->
                <!-- 新版上报end -->
                <link rel="stylesheet" href="https://csdnimg.cn/public/sandalstrap/1.3/css/sandalstrap.min.css"> 
                </head>
                <body>    
        
                    <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/blog_code-c3a0c33d5c.css">
                    <div class="container clearfix pt0" id="mainBox">
        <main style="width: 100%;"><div class="blog-content-box">
 <div class="article-title-box" id="article_anchors_452">
  <span class="article-type type-1 float-left">
   原
  </span>
  <h1 class="title-article">
   Windows平台下NS2网络仿真环境的搭建
  </h1>
 </div>
 <div class="article-info-box">
  <div class="article-bar-top d-flex">
   <span class="time">
    2013年10月02日 11:36:36
   </span>
   <div ">
    <span class="read-count">
     阅读数：10941
    </span>
   </div>
  </div>
 </div>
 <article>
  <div class="article_content clearfix csdn-tracking-statistics" data-dsm="post" data-mod="popu_307" data-pid="blog" id="article_content">
   <link href="https://csdnimg.cn/release/phoenix/template/css/htmledit_views-0a60691e80.css" rel="stylesheet"/>
   <div class="htmledit_views">
    <p>
    </p>
    <p>
     <span style="font-size:14px;">
      NS2（Network Simulator 2） 是一种针对网络技术的源代码公开的、免费的软件模拟平台，研究人员使用它可以很容易的进行网络技术的开发，而且发展到今天，它所包含的模块几乎涉及到了网络技术的所有方面。所以，NS成了目前学术界广泛使用的一种网络模拟软件。此外，NS也可作为一种辅助教学的工具，已被广泛应用在了网络技术的教学方面。因此，目前在学术界和教育界，有大量的人正在使用或试图使用NS。本文介绍Windows平台下NS2网络仿真环境的搭建（使用Cygwin）。
     </span>
    </p>
    <p>
     <strong>
      <span style="font-size:18px;">
       （一）准备工作
      </span>
     </strong>
    </p>
    <p>
     NS2（
     <span style="font-family:arial;font-size:12px;line-height:18px;">
      Network Simulator 2
     </span>
     ）必须在UNIX/Linux平台下运行，因此一般需要安装UNIX/Linux 操作系统。若要在Windows下使用NS可以采用Windows+虚拟机（VMware、Virtual PC）+NS组合的方式，或者是Windows+Cygwin（一个模拟的Linux平台）+NS组合的方式。目前Windows的使用较为普遍，因此本文主要介绍Windows+Cygwin（一个模拟的Linux平台）+NS的方式。
    </p>
    <h3>
     1.Cygwin
    </h3>
    <p>
     <a>
     </a>
     Cygwin是一个在Windows平台上运行的UNIX模拟环境，是Cygnus solutions公司开发的自由软件。它对于学习UNIX/Linux操作环境，从UNIX到Windows的应用程序移植，以及进行某些特殊的开发工作，尤其是使用gnu工具集在Windows上进行嵌入式系统开发，非常有用。随着嵌入式系统开发在国内日渐流行，越来越多的开发者对Cygwin产生了兴趣。
    </p>
    <p>
     Cygwin当初首先把gcc，gdb，gas等开发工具进行了改进，使他们能够生成并解释Win32的目标文件。然后，他们要把这些工具移植到Windows平台上去。一种方案是基于Win32 API对这些工具的源代码进行大幅修改，这样做显然需要大量工作。因此，他们采取了一种不同的方法——他们写了一个共享库(就是Cygwin dll)，把Win32 API中没有的UNIX风格的调用（如fork,spawn,signals,select,sockets等）封装在里面，也就是说，他们基于Win32 API写了一个UNIX系统库的模拟层。这样，只要把这些工具的源代码和这个共享库连接到一起，就可以使用UNIX主机上的交叉编译器来生成可以在Windows平台上运行的工具集。以这些移植到Windows平台上的开发工具为基础，Cygnus又逐步把其他的工具（几乎不需要对源代码进行修改，只需要修改他们的配置脚本）软件移植到Windows上来。这样，在Windows平台上运行bash和开发工具、用户工具，感觉好像在Linux上工作。
    </p>
    <p>
     目前国内的网站上有"在线安装"和"本地安装"两种。两者在本质上并没有多少不同，只是Cygwin必须安装特定的软件包。默认的软件包不够用。在线安装更够更新Cygwin的的软件包，可以减少安装过程中的一些不必要的错误。因此，本文采用在线安装，下面介绍一下安装Cygwin的步骤：
    </p>
    <p>
     1.       首先关闭杀毒软件，否则可能会误报病毒导致安装失败。
    </p>
    <p>
     2.       从
     <a href="http://www.cygwin.com/">
      http://www.Cygwin.com/
     </a>
     下载setup.exe在线安装包。
    </p>
    <p>
     3.       点击setup.exe开始安装，选择”install from Internet”从网络上进行安装，如图
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20131002111942625?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGVpeGlhb2h1YTEwMjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>
     <br/>
    </p>
    <p>
    </p>
    <p>
     4.      对软件包进行筛选，不需要的软件包点击“skip”，则会跳过该安装包的安装。如图所示
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20131002112051093?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGVpeGlhb2h1YTEwMjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>
     <br/>
    </p>
    <p>
    </p>
    <p>
     必要软件包是Cygwin用来生成并解释Win32的目标文件，缺一不可。安装过程也可以不点击skip，则默认将所有软件包都安装，如果是系统允许，可建议这么做，避免有些必要的安装包没有选择到，而出现错误。Cygwin必要的安装包如下：
    </p>
    <p>
    </p>
    <pre class="plain">gcc
gcc-g++
gnuplot
make
patch
perl
tar
X-startup-scripts
xorg-x11-base
xorg-x11-bin
xorg-x11-devel
xorg-x11-bin-dlls
xorg-x11-bin-lndir
xorg-x11-etc
xorg-x11-fenc
xorg-x11-fnts
xorg-x11-libs-data</pre>
    <p>
    </p>
    <p>
     <strong>
     </strong>
    </p>
    <strong>
    </strong>
    软件包安装成功后，点下一步，则安装成功。
    <h3>
     <span style="font-size:18px;">
      2.下载NS2源代码
     </span>
     <br/>
    </h3>
    <h3>
     <span style="font-size:12px;font-weight:normal;">
      NS2存在很多版本，不同的版本存在不同的兼容性问题。例如：Ns2.28以后不再提供编译好的可执行文件，因此需要自己编译源码，时间比较长；Ns2.29,2.30等较早版本存在兼容性问题，安装后无法使用，需要打补丁或改源码，操作难度较大，因此要选择最新版本2.35，避免打补丁等操作。打开网址 http://www.isi.edu/下载ns-allinone-2.35 安装包。下载完后，解压到c:\Cygwin\home\Administrator\ns-allinone-2.35。路径要严格选择对，否则使用过程中会出现问题。
     </span>
    </h3>
    <div>
     <span style="font-size:12px;font-weight:normal;">
      <br/>
     </span>
    </div>
    <span style="font-size:18px;">
     <strong>
      （二）NS2编译安装
     </strong>
    </span>
    <p>
    </p>
    <p>
     打开Cygwin terminal，切换到解压的目录cd/home/Administrator/ns-allinone-2.35
    </p>
    <p>
     输入./install安装。此安装过程很缓慢，因为是从源代码进行编译。
    </p>
    <p>
     （注意：一定要关闭杀毒软件！我发现金山毒霸会误报病毒而导致编译失败）
     <br/>
    </p>
    <p>
     安装完成后，用 ultraedit 打开 c:\Cygwin\home\Administrator\.bashrc配置环境变量。
    </p>
    <p>
     在文件的尾部添加如下代码：
    </p>
    <p>
     <strong>
     </strong>
    </p>
    <pre class="plain">export
NS_HOME=/home/Administrator/ns-allinone-2.35
export
PATH=$NS_HOME/nam-1.15:$NS_HOME/tcl8.5.10/UNIX:$NS_HOME/tk8.5.10/UNIX:$NS_HOME/bin:$PATH
export
LD_LIBRARY_PATH=$NS_HOME/tcl8.5.10/UNIX:$NS_HOME/tk8.5.10/UNIX:$NS_HOME/otcl-1.14:$NS_HOME/lib:$LD_LIBRARY_PATH
export
TCL_LIBRARY=$NS_HOME/tcl8.5.10/library</pre>
    <br/>
    <p>
    </p>
    <p>
     使用UtraEdit而不要使用记事本，因为是UNIX文本，删除不必要的空格和回车；环境变量之间要用冒号分隔，而不是分号。
    </p>
    <p>
     2、必须在Cygwin 下运行 source .bashrc使环境变量生效。
    </p>
    <p>
     3、环境变量生效后，输入startxwin启动Cygwin的xwindow界面，只有xwindow界面才可以运行NS仿真，否则会出错。如图所示：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20131002112631062?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGVpeGlhb2h1YTEwMjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>
     <br/>
    </p>
    <p>
     4、切换到需要使用的TCL文件目录。输入ns [file-name].tcl启动模拟。可以使用自带的example2.tcl进行测试，如果配置成功，会出现如图界面：
     <br/>
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20131002112816562?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGVpeGlhb2h1YTEwMjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <br/>
   </div>
  </div>
  <div style="display:none;" class="hide-article-box text-center csdn-tracking-statistics tracking-click" data-mod="popu_376">
   <a class="btn btn-red-hollow" id="btn-readmore">
    阅读更多
   </a>
  </div>
 </article>
 <div class="article-bar-bottom">
  <div class="article-copyright">
   版权声明：本文为博主原创文章，未经博主允许不得转载。			https://blog.csdn.net/leixiaohua1020/article/details/12233331
  </div>
  <div class="tags-box artic-tag-box">
   <span class="label">
    文章标签：
   </span>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=ns2&amp;t=blog" target="_blank">
    ns2
   </a>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=安装&amp;t=blog" target="_blank">
    安装
   </a>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=windows&amp;t=blog" target="_blank">
    windows
   </a>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=cygwin&amp;t=blog" target="_blank">
    cygwin
   </a>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=gcc&amp;t=blog" target="_blank">
    gcc
   </a>
  </div>
  <div class="tags-box">
   <span class="label">
    个人分类：
   </span>
   <a class="tag-link" href="https://blog.csdn.net/leixiaohua1020/article/category/1645655" target="_blank">
    计算机网络
   </a>
  </div>
 </div>
 <!-- !empty($pre_next_article[0]) -->
</div>
<div class="recommend-box">
                            <div style="background: #fff; border: dashed 1px #666; padding-left: 1em; padding-top: 1em; padding-bottom: 1em;">
                                <span style="font-size: 0.8em; font-weight: bold;">
                                    此PDF由<a style="color:#0000ff" href="http://www.github.com/spygg"  target="_blank">spygg</a>生成,请尊重原作者版权!!!
                                    <br/>
                                    我的邮箱:liushidc@163.com
                                </span>
                                </div> 
                        </div>
                    </main>
      
                </div>

            <script>
                var recommendCount = 0;
                var articleTit = "";
                var articleId = "";
                var commentscount = 0;

                //1禁止评论，2正常
                var commentAuth = 1;
                //百度搜索
                var baiduKey = "";
                var needInsertBaidu = "";
            </script>
            <script src="https://csdnimg.cn/release/phoenix/template/js/detail-effe72036e.min.js"></script>
            </body>
        </html>