
            <!DOCTYPE html>
            <html lang="zh-CN">
                <head>
                    <meta charset="UTF-8">
                    <title>
 live555学习笔记－RTSPClient分析 - CSDN博客
</title>

                <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/detail-60a2c245da.min.css">
                <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/themes/skin3-template/skin3-template-88717cedf2.min.css">

                <script type="text/javascript">
                var username = "";
                </script>

                <script src="https://csdnimg.cn/public/common/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>

                <!-- 新版上报 -->
                <!-- 新版上报end -->
                <link rel="stylesheet" href="https://csdnimg.cn/public/sandalstrap/1.3/css/sandalstrap.min.css"> 
                </head>
                <body>    
        
                    <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/blog_code-c3a0c33d5c.css">
                    <div class="container clearfix pt0" id="mainBox">
        <main style="width: 100%;"><div class="blog-content-box">
 <div class="article-title-box" id="article_anchors_513">
  <span class="article-type type-2 float-left">
   转
  </span>
  <h1 class="title-article">
   live555学习笔记－RTSPClient分析
  </h1>
 </div>
 <div class="article-info-box">
  <div class="article-bar-top d-flex">
   <span class="time">
    2013年09月20日 17:27:32
   </span>
   <div ">
    <span class="read-count">
     阅读数：14808
    </span>
   </div>
  </div>
 </div>
 <article>
  <div class="article_content clearfix csdn-tracking-statistics" data-dsm="post" data-mod="popu_307" data-pid="blog" id="article_content">
   <link href="https://csdnimg.cn/release/phoenix/template/css/htmledit_views-0a60691e80.css" rel="stylesheet"/>
   <div class="htmledit_views">
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
     八 RTSPClient分析
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
     有RTSPServer，当然就要有RTSPClient。
     <br/>
     如果按照Server端的架构，想一下Client端各部分的组成可能是这样：
     <br/>
     因为要连接RTSP server，所以RTSPClient要有TCP socket。当获取到server端的DESCRIBE后，应建立一个对应于ServerMediaSession的ClientMediaSession。对应每个Track，ClientMediaSession中应建立ClientMediaSubsession。当建立RTP Session时，应分别为所拥有的Track发送SETUP请求连接，在获取回应后，分别为所有的track建立RTP socket，然后请求PLAY，然后开始传输数据。事实是这样吗？只能分析代码了。
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
     <br/>
     testProgs中的OpenRTSP是典型的RTSPClient示例，所以分析它吧。
     <br/>
     main()函数在playCommon.cpp文件中。main()的流程比较简单，跟服务端差别不大：建立任务计划对象－－建立环境对象－－处理用户输入的参数(RTSP地址)－－创建RTSPClient实例－－发出第一个RTSP请求（可能是OPTIONS也可能是DESCRIBE）－－进入Loop。
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
     <br/>
     RTSP的tcp连接是在发送第一个RTSP请求时才建立的，在RTSPClient的那几个发请求的函数sendXXXXXXCommand()中最终都调用sendRequest()，sendRequest()中会跟据情况建立起TCP连接。在建立连接时马上向任务计划中加入处理从这个TCP接收数据的socket handler：RTSPClient::incomingDataHandler()。
     <br/>
     下面就是发送RTSP请求，OPTIONS就不必看了，从请求DESCRIBE开始：
     <br/>
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <div class="dp-highlighter bg_cpp" style="margin:18px 0px!important; width:687.04px; color:rgb(51,51,51); line-height:26px; overflow:auto; padding-top:1px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220)">
     <div class="bar" style="padding-left:45px">
      <div class="tools" style="padding:3px 8px 10px 10px; color:silver; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; border-left-color:rgb(108,226,108); border-left-width:3px; border-left-style:solid; background-color:rgb(248,248,248)">
       <strong>
        [cpp]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="view plain">
        view
 plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="copy">
        copy
       </a>
       <div style="left:531px; top:901px; width:18px; height:18px; position:absolute; z-index:99">
       </div>
      </div>
     </div>
     <ol class="dp-cpp" start="1" style="margin:0px 0px 1px 45px!important; padding:0px; border:currentColor; color:rgb(92,92,92); background-color:rgb(255,255,255)">
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         void
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         getSDPDescription(RTSPClient::responseHandler* afterFunc)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        {
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        ourRTSPClient-&gt;sendDescribeCommand(afterFunc, ourAuthenticator);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned RTSPClient::sendDescribeCommand(responseHandler* responseHandler,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Authenticator* authenticator)
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        {
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (authenticator != NULL)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fCurrentAuthenticator = *authenticator;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         sendRequest(
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         RequestRecord(++fCSeq,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "DESCRIBE"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         , responseHandler));
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
     </ol>
    </div>
    <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
     参数responseHandler是调用者提供的回调函数，用于在处理完请求的回应后再调用之。并且在这个回调函数中会发出下一个请求－－所有的请求都是这样依次发出的。使用回调函数的原因主要是因为socket的发送与接收不是同步进行的。类RequestRecord就代表一个请求,它不但保存了RTSP请求相关的信息，而且保存了请求完成后的回调函数－－就是responseHandler。有些请求发出时还没建立tcp连接，不能立即发送，则加入fRequestsAwaitingConnection队列；有些发出后要等待Server端的回应，就加入fRequestsAwaitingResponse队列，当收到回应后再从队列中把它取出。
    </span>
    <br style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px"/>
    <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
     由于RTSPClient::sendRequest()太复杂，就不列其代码了，其无非是建立起RTSP请求字符串然后用TCP socket发送之。
    </span>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
     <br/>
     现在看一下收到DESCRIBE的回应后如何处理它。理论上是跟据媒体信息建立起MediaSession了，看看是不是这样：
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <div class="dp-highlighter bg_cpp" style="margin:18px 0px!important; width:687.04px; color:rgb(51,51,51); line-height:26px; overflow:auto; padding-top:1px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220)">
     <div class="bar" style="padding-left:45px">
      <div class="tools" style="padding:3px 8px 10px 10px; color:silver; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; border-left-color:rgb(108,226,108); border-left-width:3px; border-left-style:solid; background-color:rgb(248,248,248)">
       <strong>
        [cpp]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="view plain">
        view
 plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="copy">
        copy
       </a>
       <div style="left:531px; top:1468px; width:18px; height:18px; position:absolute; z-index:99">
       </div>
      </div>
     </div>
     <ol class="dp-cpp" start="1" style="margin:0px 0px 1px 45px!important; padding:0px; border:currentColor; color:rgb(92,92,92); background-color:rgb(255,255,255)">
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         void
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         continueAfterDESCRIBE(RTSPClient*,
        </span>
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         int
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         resultCode,
        </span>
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         * resultString)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        {
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         * sdpDescription = resultString;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //跟据SDP创建MediaSession。
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create a media session object from this SDP description:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        session = MediaSession::createNew(*env, sdpDescription);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         [] sdpDescription;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Then, setup the "RTPSource"s for the session:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        MediaSubsessionIterator iter(*session);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        MediaSubsession *subsession;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Boolean madeProgress = False;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         const
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         * singleMediumToTest = singleMedium;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //循环所有的MediaSubsession，为每个设置其RTPSource的参数
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         while
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ((subsession = iter.next()) != NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //初始化subsession，在其中会建立RTP/RTCP socket以及RTPSource。
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (subsession-&gt;initiate(simpleRTPoffsetArg)) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        madeProgress = True;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (subsession-&gt;rtpSource() != NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Because we're saving the incoming data, rather than playing
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // it in real time, allow an especially large time threshold
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // (1 second) for reordering misordered incoming packets:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         const
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         thresh = 1000000;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // 1 second
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsession-&gt;rtpSource()-&gt;setPacketReorderingThresholdTime(thresh);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Set the RTP source's OS socket buffer size as appropriate - either if we were explicitly asked (using -B),
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // or if the desired FileSink buffer size happens to be larger than the current OS socket buffer size.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // (The latter case is a heuristic, on the assumption that if the user asked for a large FileSink buffer size,
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // then the input data rate may be large enough to justify increasing the OS socket buffer size also.)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         int
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         socketNum = subsession-&gt;rtpSource()-&gt;RTPgs()-&gt;socketNum();
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned curBufferSize = getReceiveBufferSize(*env,socketNum);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (socketInputBufferSize &gt; 0　|| fileSinkBufferSize &gt; curBufferSize) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned newBufferSize =　socketInputBufferSize &gt; 0 ?
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        socketInputBufferSize : fileSinkBufferSize;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        newBufferSize = setReceiveBufferTo(*env, socketNum, newBufferSize);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (socketInputBufferSize &gt; 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // The user explicitly asked for the new socket buffer size; announce it:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        *env
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Changed socket receive buffer size for the \""
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt; subsession-&gt;mediumName() &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "/"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt; subsession-&gt;codecName()
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "\" subsession from "
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         &lt;&lt; curBufferSize
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         " to "
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         &lt;&lt; newBufferSize &lt;&lt;
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         " bytes\n"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (!madeProgress)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        shutdown();
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Perform additional 'setup' on each subsession, before playing them:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //下一步就是发送SETUP请求了。需要为每个Track分别发送一次。
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        setupStreams();
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
     </ol>
    </div>
    <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
     此函数被删掉很多枝叶，所以发现与原版不同请不要惊掉大牙。
    </span>
    <br style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px"/>
    <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
     的确在DESCRIBE回应后建立起了MediaSession，而且我们发现Client端的MediaSession不叫ClientMediaSesson，SubSession亦不是。我现在很想看看MediaSession与MediaSubsession的建立过程:
    </span>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <div class="dp-highlighter bg_cpp" style="margin:18px 0px!important; width:687.04px; color:rgb(51,51,51); line-height:26px; overflow:auto; padding-top:1px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220)">
     <div class="bar" style="padding-left:45px">
      <div class="tools" style="padding:3px 8px 10px 10px; color:silver; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; border-left-color:rgb(108,226,108); border-left-width:3px; border-left-style:solid; background-color:rgb(248,248,248)">
       <strong>
        [cpp]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="view plain">
        view
 plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="copy">
        copy
       </a>
       <div style="left:531px; top:2622px; width:18px; height:18px; position:absolute; z-index:99">
       </div>
      </div>
     </div>
     <ol class="dp-cpp" start="1" style="margin:0px 0px 1px 45px!important; padding:0px; border:currentColor; color:rgb(92,92,92); background-color:rgb(255,255,255)">
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         MediaSession* MediaSession::createNew(UsageEnvironment&amp; env,
        </span>
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         const
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         * sdpDescription)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        {
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        MediaSession* newSession =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         MediaSession(env);
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (newSession != NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (!newSession-&gt;initializeWithSDP(sdpDescription)) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         newSession;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         NULL;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         newSession;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
     </ol>
    </div>
    <br style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px"/>
    <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
     我可以告诉你，MediaSession的构造函数没什么可看的，那么就来看initializeWithSDP()：
    </span>
    <br style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px"/>
    <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
     内容太多，不必看了，我大体说说吧：就是处理SDP，跟据每一行来初始化一些变量。当遇到"m="行时，就建立一个MediaSubsession，然后再处理这一行之下，下一个"m="行之上的行们，用这些参数初始化MediaSubsession的变量。循环往复，直到尽头。然而这其中并没有建立RTP socket。我们发现在continueAfterDESCRIBE()中，创建MediaSession之后又调用了subsession-&gt;initiate(simpleRTPoffsetArg)，那么socket是不是在它里面创建的呢？look:
    </span>
    <br style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px"/>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <div class="dp-highlighter bg_cpp" style="margin:18px 0px!important; width:687.04px; color:rgb(51,51,51); line-height:26px; overflow:auto; padding-top:1px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220)">
     <div class="bar" style="padding-left:45px">
      <div class="tools" style="padding:3px 8px 10px 10px; color:silver; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; border-left-color:rgb(108,226,108); border-left-width:3px; border-left-style:solid; background-color:rgb(248,248,248)">
       <strong>
        [cpp]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="view plain">
        view
 plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="copy">
        copy
       </a>
       <div style="left:531px; top:3089px; width:18px; height:18px; position:absolute; z-index:99">
       </div>
      </div>
     </div>
     <ol class="dp-cpp" start="1" style="margin:0px 0px 1px 45px!important; padding:0px; border:currentColor; color:rgb(92,92,92); background-color:rgb(255,255,255)">
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Boolean MediaSubsession::initiate(
        </span>
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         int
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         useSpecialRTPoffset)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        {
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fReadSource != NULL)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         True;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // has already been initiated
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         do
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fCodecName == NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env().setResultMsg(
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Codec is unspecified"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //创建RTP/RTCP sockets
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create RTP and RTCP 'Groupsocks' on which to receive incoming data.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // (Groupsocks will work even for unicast addresses)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         struct
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         in_addr tempAddr;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        tempAddr.s_addr = connectionEndpointAddress();
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // This could get changed later, as a result of a RTSP "SETUP"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fClientPortNum != 0) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //当server端指定了建议的client端口
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // The sockets' port numbers were specified for us.  Use these:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fClientPortNum = fClientPortNum &amp; ~1;
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // even
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (isSSM()) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Groupsock(env(), tempAddr, fSourceFilterAddr,
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fClientPortNum);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Groupsock(env(), tempAddr, fClientPortNum,
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        255);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fRTPSocket == NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env().setResultMsg(
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Failed to create RTP socket"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Set our RTCP port to be the RTP port +1
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        portNumBits
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         const
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         rtcpPortNum = fClientPortNum | 1;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (isSSM()) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTCPSocket =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Groupsock(env(), tempAddr, fSourceFilterAddr,
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        rtcpPortNum);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTCPSocket =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Groupsock(env(), tempAddr, rtcpPortNum, 255);
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fRTCPSocket == NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         tmpBuf[100];
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        sprintf(tmpBuf,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Failed to create RTCP socket (port %d)"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ,
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        rtcpPortNum);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env().setResultMsg(tmpBuf);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //Server端没有指定client端口，我们自己找一个。之所以做的这样复杂，是为了能找到连续的两个端口
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //RTP/RTCP的端口号不是要连续吗？还记得不？
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Port numbers were not specified in advance, so we use ephemeral port numbers.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create sockets until we get a port-number pair (even: RTP; even+1: RTCP).
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // We need to make sure that we don't keep trying to use the same bad port numbers over and over again.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // so we store bad sockets in a table, and delete them all when we're done.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        HashTable* socketHashTable = HashTable::create(ONE_WORD_HASH_KEYS);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (socketHashTable == NULL)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Boolean success = False;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        NoReuse dummy;
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // ensures that our new ephemeral port number won't be one that's already in use
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         while
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (1) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create a new socket:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (isSSM()) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Groupsock(env(), tempAddr,
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fSourceFilterAddr, 0);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Groupsock(env(), tempAddr, 0, 255);
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fRTPSocket == NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env().setResultMsg(
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MediaSession::initiate(): unable to create RTP and RTCP sockets"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Get the client port number, and check whether it's even (for RTP):
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Port clientPort(0);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (!getSourcePort(env(), fRTPSocket-&gt;socketNum(),
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        clientPort)) {
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fClientPortNum = ntohs(clientPort.num());
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ((fClientPortNum &amp; 1) != 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // it's odd
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Record this socket in our table, and keep trying:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned key = (unsigned) fClientPortNum;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Groupsock* existing = (Groupsock*) socketHashTable-&gt;Add(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        (
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         const
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         *) key, fRTPSocket);
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         existing;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // in case it wasn't NULL
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         continue
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Make sure we can use the next (i.e., odd) port number, for RTCP:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        portNumBits rtcpPortNum = fClientPortNum | 1;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (isSSM()) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTCPSocket =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Groupsock(env(), tempAddr,
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fSourceFilterAddr, rtcpPortNum);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTCPSocket =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Groupsock(env(), tempAddr, rtcpPortNum,
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        255);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fRTCPSocket != NULL &amp;&amp; fRTCPSocket-&gt;socketNum() &gt;= 0) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Success! Use these two sockets.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        success = True;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // We couldn't create the RTCP socket (perhaps that port number's already in use elsewhere?).
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         fRTCPSocket;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Record the first socket in our table, and keep trying:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned key = (unsigned) fClientPortNum;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Groupsock* existing = (Groupsock*) socketHashTable-&gt;Add(
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        (
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         const
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         *) key, fRTPSocket);
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         existing;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // in case it wasn't NULL
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         continue
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Clean up the socket hash table (and contents):
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Groupsock* oldGS;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         while
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ((oldGS = (Groupsock*) socketHashTable-&gt;RemoveNext()) != NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         oldGS;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         socketHashTable;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (!success)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // a fatal error occurred trying to create the RTP and RTCP sockets; we can't continue
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Try to use a big receive buffer for RTP - at least 0.1 second of
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // specified bandwidth and at least 50 KB
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned rtpBufSize = fBandwidth * 25 / 2;
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // 1 kbps * 0.1 s = 12.5 bytes
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (rtpBufSize &lt; 50 * 1024)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        rtpBufSize = 50 * 1024;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        increaseReceiveBufferTo(env(), fRTPSocket-&gt;socketNum(), rtpBufSize);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // ASSERT: fRTPSocket != NULL &amp;&amp; fRTCPSocket != NULL
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (isSSM()) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Special case for RTCP SSM: Send RTCP packets back to the source via unicast:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTCPSocket-&gt;changeDestinationParameters(fSourceFilterAddr, 0, ~0);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //创建RTPSource的地方
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create "fRTPSource" and "fReadSource":
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (!createSourceObjects(useSpecialRTPoffset))
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fReadSource == NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env().setResultMsg(
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Failed to create read source"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Finally, create our RTCP instance. (It starts running automatically)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fRTPSource != NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // If bandwidth is specified, use it and add 5% for RTCP overhead.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Otherwise make a guess at 500 kbps.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned totSessionBandwidth =
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fBandwidth ? fBandwidth + fBandwidth / 20 : 500;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTCPInstance = RTCPInstance::createNew(env(), fRTCPSocket,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        totSessionBandwidth, (unsigned
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         const
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         *) fParent.CNAME(),
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        NULL
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         /* we're a client */
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         , fRTPSource);
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fRTCPInstance == NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env().setResultMsg(
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Failed to create RTCP instance"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         True;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         while
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (0);
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //失败时执行到这里
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         fRTPSocket;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket = NULL;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         fRTCPSocket;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTCPSocket = NULL;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Medium::close(fRTCPInstance);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTCPInstance = NULL;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Medium::close(fReadSource);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = NULL;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fClientPortNum = 0;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         False;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
     </ol>
    </div>
    <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
     是的，在其中创建了RTP/RTCP socket并创建了RTPSource，创建RTPSource在函数createSourceObjects()中，看一下：
    </span>
    <br style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px"/>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <div class="dp-highlighter bg_cpp" style="margin:18px 0px!important; width:687.04px; color:rgb(51,51,51); line-height:26px; overflow:auto; padding-top:1px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220)">
     <div class="bar" style="padding-left:45px">
      <div class="tools" style="padding:3px 8px 10px 10px; color:silver; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; border-left-color:rgb(108,226,108); border-left-width:3px; border-left-style:solid; background-color:rgb(248,248,248)">
       <strong>
        [cpp]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="view plain">
        view
 plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="copy">
        copy
       </a>
       <div style="left:531px; top:6539px; width:18px; height:18px; position:absolute; z-index:99">
       </div>
      </div>
     </div>
     <ol class="dp-cpp" start="1" style="margin:0px 0px 1px 45px!important; padding:0px; border:currentColor; color:rgb(92,92,92); background-color:rgb(255,255,255)">
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         Boolean MediaSubsession::createSourceObjects(
        </span>
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         int
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         useSpecialRTPoffset)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        {
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         do
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // First, check "fProtocolName"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fProtocolName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "UDP"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // A UDP-packetized stream (*not* a RTP stream)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = BasicUDPSource::createNew(env(), fRTPSocket);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSource = NULL;
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Note!
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MP2T"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // MPEG-2 Transport Stream
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = MPEG2TransportStreamFramer::createNew(env(),
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // this sets "durationInMicroseconds" correctly, based on the PCR values
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Check "fCodecName" against the set of codecs that we support,
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // and create our RTP source accordingly
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // (Later make this code more efficient, as this set grows #####)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // (Also, add more fmts that can be implemented by SimpleRTPSource#####)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Boolean createSimpleRTPSource = False;
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // by default; can be changed below
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        Boolean doNormalMBitRule = False;
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // default behavior if "createSimpleRTPSource" is True
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "QCELP"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // QCELP audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = QCELPAudioRTPSource::createNew(env(), fRTPSocket,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSource, fRTPPayloadFormat, fRTPTimestampFrequency);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Note that fReadSource will differ from fRTPSource in this case
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "AMR"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // AMR audio (narrowband)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = AMRAudioRTPSource::createNew(env(), fRTPSocket,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSource, fRTPPayloadFormat, 0
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         /*isWideband*/
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ,
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fNumChannels, fOctetalign, fInterleaving,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRobustsorting, fCRC);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Note that fReadSource will differ from fRTPSource in this case
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "AMR-WB"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // AMR audio (wideband)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = AMRAudioRTPSource::createNew(env(), fRTPSocket,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSource, fRTPPayloadFormat, 1
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         /*isWideband*/
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ,
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fNumChannels, fOctetalign, fInterleaving,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRobustsorting, fCRC);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Note that fReadSource will differ from fRTPSource in this case
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MPA"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // MPEG-1 or 2 audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = MPEG1or2AudioRTPSource::createNew(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env(), fRTPSocket, fRTPPayloadFormat,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPTimestampFrequency);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MPA-ROBUST"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // robust MP3 audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSource = MP3ADURTPSource::createNew(env(), fRTPSocket,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPPayloadFormat, fRTPTimestampFrequency);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fRTPSource == NULL)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Add a filter that deinterleaves the ADUs after depacketizing them:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        MP3ADUdeinterleaver* deinterleaver = MP3ADUdeinterleaver::createNew(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env(), fRTPSource);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (deinterleaver == NULL)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Add another filter that converts these ADUs to MP3 frames:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = MP3FromADUSource::createNew(env(), deinterleaver);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "X-MP3-DRAFT-00"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // a non-standard variant of "MPA-ROBUST" used by RealNetworks
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // (one 'ADU'ized MP3 frame per packet; no headers)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSource = SimpleRTPSource::createNew(env(), fRTPSocket,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPPayloadFormat, fRTPTimestampFrequency,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "audio/MPA-ROBUST"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         /*hack*/
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (fRTPSource == NULL)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Add a filter that converts these ADUs to MP3 frames:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = MP3FromADUSource::createNew(env(), fRTPSource,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        False
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         /*no ADU header*/
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MP4A-LATM"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // MPEG-4 LATM audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = MPEG4LATMAudioRTPSource::createNew(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env(), fRTPSocket, fRTPPayloadFormat,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPTimestampFrequency);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "AC3"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "EAC3"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // AC3 audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = AC3AudioRTPSource::createNew(env(),
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket, fRTPPayloadFormat, fRTPTimestampFrequency);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MP4V-ES"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // MPEG-4 Elem Str vid
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = MPEG4ESVideoRTPSource::createNew(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env(), fRTPSocket, fRTPPayloadFormat,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPTimestampFrequency);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MPEG4-GENERIC"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = MPEG4GenericRTPSource::createNew(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env(), fRTPSocket, fRTPPayloadFormat,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPTimestampFrequency, fMediumName, fMode, fSizelength,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fIndexlength, fIndexdeltalength);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MPV"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // MPEG-1 or 2 video
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = MPEG1or2VideoRTPSource::createNew(
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env(), fRTPSocket, fRTPPayloadFormat,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPTimestampFrequency);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MP2T"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // MPEG-2 Transport Stream
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSource = SimpleRTPSource::createNew(env(), fRTPSocket,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPPayloadFormat, fRTPTimestampFrequency,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "video/MP2T"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ,
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        0, False);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = MPEG2TransportStreamFramer::createNew(env(),
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSource);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // this sets "durationInMicroseconds" correctly, based on the PCR values
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "H261"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // H.261
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = H261VideoRTPSource::createNew(env(),
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket, fRTPPayloadFormat, fRTPTimestampFrequency);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "H263-1998"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "H263-2000"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // H.263+
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = H263plusVideoRTPSource::createNew(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env(), fRTPSocket, fRTPPayloadFormat,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPTimestampFrequency);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "H264"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = H264VideoRTPSource::createNew(env(),
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket, fRTPPayloadFormat, fRTPTimestampFrequency);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "DV"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = DVVideoRTPSource::createNew(env(),
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket, fRTPPayloadFormat, fRTPTimestampFrequency);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "JPEG"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // motion JPEG
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = JPEGVideoRTPSource::createNew(env(),
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket, fRTPPayloadFormat, fRTPTimestampFrequency,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        videoWidth(), videoHeight());
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "X-QT"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "X-QUICKTIME"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Generic QuickTime streams, as defined in
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // &lt;http://developer.apple.com/quicktime/icefloe/dispatch026.html&gt;
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         * mimeType =
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         [strlen(mediumName())
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        + strlen(codecName()) + 2];
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        sprintf(mimeType,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "%s/%s"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         , mediumName(), codecName());
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = QuickTimeGenericRTPSource::createNew(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env(), fRTPSocket, fRTPPayloadFormat,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPTimestampFrequency, mimeType);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         [] mimeType;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(fCodecName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "PCMU"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // PCM u-law audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "GSM"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // GSM audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "DVI4"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // DVI4 (IMA ADPCM) audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "PCMA"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // PCM a-law audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MP1S"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // MPEG-1 System Stream
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MP2P"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // MPEG-2 Program Stream
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "L8"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // 8-bit linear audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "L16"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // 16-bit linear audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "L20"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // 20-bit linear audio (RFC 3190)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "L24"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // 24-bit linear audio (RFC 3190)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "G726-16"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // G.726, 16 kbps
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "G726-24"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // G.726, 24 kbps
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "G726-32"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // G.726, 32 kbps
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "G726-40"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // G.726, 40 kbps
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "SPEEX"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // SPEEX audio
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "T140"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // T.140 text (RFC 4103)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(fCodecName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "DAT12"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // 12-bit nonlinear audio (RFC 3190)
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        ) {
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        createSimpleRTPSource = True;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        useSpecialRTPoffset = 0;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (useSpecialRTPoffset &gt;= 0) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // We don't know this RTP payload format, but try to receive
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // it using a 'SimpleRTPSource' with the specified header offset:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        createSimpleRTPSource = True;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        env().setResultMsg(
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "RTP payload format unknown or not supported"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         break
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (createSimpleRTPSource) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         * mimeType =
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         [strlen(mediumName())
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        + strlen(codecName()) + 2];
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        sprintf(mimeType,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "%s/%s"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         , mediumName(), codecName());
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fReadSource = fRTPSource = SimpleRTPSource::createNew(env(),
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fRTPSocket, fRTPPayloadFormat, fRTPTimestampFrequency,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        mimeType, (unsigned) useSpecialRTPoffset,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        doNormalMBitRule);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         [] mimeType;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         True;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         while
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (0);
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         False;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // an error occurred
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
     </ol>
    </div>
    <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
     可以看到，这个函数里主要是跟据前面分析出的媒体和传输信息建立合适的Source。
    </span>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
     socket建立了，Source也创建了，下一步应该是连接Sink，形成一个流。到此为止还未看到Sink的影子，应该是在下一步SETUP中建立，我们看到在continueAfterDESCRIBE()的最后调用了setupStreams（），那么就来探索一下setupStreams():
     <br/>
    </p>
    <p style="color:rgb(51,51,51); line-height:26px; font-family:Arial; font-size:14px">
    </p>
    <div class="dp-highlighter bg_cpp" style="margin:18px 0px!important; width:687.04px; color:rgb(51,51,51); line-height:26px; overflow:auto; padding-top:1px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220)">
     <div class="bar" style="padding-left:45px">
      <div class="tools" style="padding:3px 8px 10px 10px; color:silver; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; border-left-color:rgb(108,226,108); border-left-width:3px; border-left-style:solid; background-color:rgb(248,248,248)">
       <strong>
        [cpp]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="view plain">
        view
 plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="copy">
        copy
       </a>
       <div style="left:531px; top:9821px; width:18px; height:18px; position:absolute; z-index:99">
       </div>
      </div>
     </div>
     <ol class="dp-cpp" start="1" style="margin:0px 0px 1px 45px!important; padding:0px; border:currentColor; color:rgb(92,92,92); background-color:rgb(255,255,255)">
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         void
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         setupStreams()
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        {
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         static
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         MediaSubsessionIterator* setupIter = NULL;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (setupIter == NULL)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        setupIter =
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         new
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         MediaSubsessionIterator(*session);
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //每次调用此函数只为一个Subsession发出SETUP请求。
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         while
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ((subsession = setupIter-&gt;next()) != NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // We have another subsession left to set up:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (subsession-&gt;clientPortNum() == 0)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         continue
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // port # was not set
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //为一个Subsession发送SETUP请求。请求处理完成时调用continueAfterSETUP()，
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //continueAfterSETUP()又调用了setupStreams()，在此函数中为下一个SubSession发送SETUP请求。
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
     </ol>
    </div>
    <div class="dp-highlighter bg_cpp" style="margin:18px 0px!important; width:687.04px; color:rgb(51,51,51); line-height:26px; overflow:auto; padding-top:1px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220)">
     <div class="bar" style="padding-left:45px">
      <div class="tools" style="padding:3px 8px 10px 10px; color:silver; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; border-left-color:rgb(108,226,108); border-left-width:3px; border-left-style:solid; background-color:rgb(248,248,248)">
       <strong>
        [cpp]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="view plain">
        view
 plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/niu_gao/article/details/6927461#" rel="nofollow" style="margin:0px 10px 0px 0px; padding:1px; border:currentColor; width:16px; height:16px; color:rgb(160,160,160); text-indent:-2000px; font-size:9px; text-decoration:none; display:inline-block; background-color:inherit" target="_blank" title="copy">
        copy
       </a>
       <div style="left:531px; top:10142px; width:18px; height:18px; position:absolute; z-index:99">
       </div>
      </div>
     </div>
     <ol class="dp-cpp" start="1" style="margin:0px 0px 1px 45px!important; padding:0px; border:currentColor; color:rgb(92,92,92); background-color:rgb(255,255,255)">
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         &lt;span style=
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "white-space:pre"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         &gt;      &lt;/span&gt;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //直到处理完所有的SubSession
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        setupSubsession(subsession, streamUsingTCP, continueAfterSETUP);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         return
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //执行到这里时，已循环完所有的SubSession了
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // We're done setting up subsessions.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         setupIter;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (!madeProgress)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        shutdown();
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //创建输出文件，看来是在这里创建Sink了。创建sink后，就开始播放它。这个播放应该只是把socket的handler加入到
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //计划任务中，而没有数据的接收或发送。只有等到发出PLAY请求后才有数据的收发。
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create output files:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (createReceivers) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (outputQuickTimeFile) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create a "QuickTimeFileSink", to write to 'stdout':
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        qtOut = QuickTimeFileSink::createNew(*env, *session,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "stdout"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ,
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSinkBufferSize, movieWidth, movieHeight, movieFPS,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        packetLossCompensate, syncStreams, generateHintTracks,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        generateMP4Format);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (qtOut == NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        *env &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Failed to create QuickTime file sink for stdout: "
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt; env-&gt;getResultMsg();
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        shutdown();
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        qtOut-&gt;startPlaying(sessionAfterPlaying, NULL);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (outputAVIFile) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create an "AVIFileSink", to write to 'stdout':
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        aviOut = AVIFileSink::createNew(*env, *session,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "stdout"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ,
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSinkBufferSize, movieWidth, movieHeight, movieFPS,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        packetLossCompensate);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (aviOut == NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        *env &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Failed to create AVI file sink for stdout: "
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt; env-&gt;getResultMsg();
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        shutdown();
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        aviOut-&gt;startPlaying(sessionAfterPlaying, NULL);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create and start "FileSink"s for each subsession:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        madeProgress = False;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        MediaSubsessionIterator iter(*session);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         while
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ((subsession = iter.next()) != NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (subsession-&gt;readSource() == NULL)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         continue
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // was not initiated
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Create an output file for each desired stream:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         outFileName[1000];
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (singleMedium == NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Output file name is
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //     "&lt;filename-prefix&gt;&lt;medium_name&gt;-&lt;codec_name&gt;-&lt;counter&gt;"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         static
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         unsigned streamCounter = 0;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        snprintf(outFileName,
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         sizeof
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         outFileName,
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "%s%s-%s-%d"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ,
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileNamePrefix, subsession-&gt;mediumName(),
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsession-&gt;codecName(), ++streamCounter);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        sprintf(outFileName,
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "stdout"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         );
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        FileSink* fileSink;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(subsession-&gt;mediumName(),
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "audio"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &amp;&amp; (strcmp(subsession-&gt;codecName(),
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "AMR"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        || strcmp(subsession-&gt;codecName(),
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "AMR-WB"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         )
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        == 0)) {
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // For AMR audio streams, we use a special sink that inserts AMR frame hdrs:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSink = AMRAudioFileSink::createNew(*env, outFileName,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSinkBufferSize, oneFilePerFrame);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(subsession-&gt;mediumName(),
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "video"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &amp;&amp; (strcmp(subsession-&gt;codecName(),
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "H264"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0)) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // For H.264 video stream, we use a special sink that insert start_codes:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSink = H264VideoFileSink::createNew(*env, outFileName,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsession-&gt;fmtp_spropparametersets(),
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSinkBufferSize, oneFilePerFrame);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Normal case:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSink = FileSink::createNew(*env, outFileName,
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSinkBufferSize, oneFilePerFrame);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsession-&gt;sink = fileSink;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (subsession-&gt;sink == NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        *env &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Failed to create FileSink for \""
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         &lt;&lt; outFileName
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "\": "
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         &lt;&lt; env-&gt;getResultMsg() &lt;&lt;
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "\n"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (singleMedium == NULL) {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        *env &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Created output file: \""
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         &lt;&lt; outFileName
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "\"\n"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        *env &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "Outputting data from the \""
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt; subsession-&gt;mediumName() &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "/"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt; subsession-&gt;codecName()
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &lt;&lt;
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "\" subsession to 'stdout'\n"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (strcmp(subsession-&gt;mediumName(),
        </span>
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "video"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        &amp;&amp; strcmp(subsession-&gt;codecName(),
        <span class="string" style="color:blue; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         "MP4V-ES"
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         ) == 0 &amp;&amp;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsession-&gt;fmtp_config() != NULL) {
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // For MPEG-4 video RTP streams, the 'config' information
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // from the SDP description contains useful VOL etc. headers.
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Insert this data at the front of the output file:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned                    configLen;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        unsigned
        <span class="datatypes" style="color:#2e8b57; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         char
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         * configData
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        = parseGeneralConfigStr(subsession-&gt;fmtp_config(), configLen);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         struct
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         timeval timeNow;
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        gettimeofday(&amp;timeNow, NULL);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        fileSink-&gt;addData(configData, configLen, timeNow);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         delete
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         [] configData;
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //开始传输
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsession-&gt;sink-&gt;startPlaying(*(subsession-&gt;readSource()),
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsessionAfterPlaying, subsession);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Also set a handler to be called if a RTCP "BYE" arrives
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // for this subsession:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (subsession-&gt;rtcpInstance() != NULL) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsession-&gt;rtcpInstance()-&gt;setByeHandler(
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        subsessionByeHandler, subsession);
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        madeProgress = True;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (!madeProgress)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        shutdown();
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // Finally, start playing each subsession, to start the data flow:
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (duration == 0) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (scale &gt; 0)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        duration = session-&gt;playEndTime() - initialSeekTime;
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         // use SDP end time
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (scale &lt; 0)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        duration = initialSeekTime;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (duration &lt; 0)
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        duration = 0.0;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        endTime = initialSeekTime;
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (scale &gt; 0) {
        </span>
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (duration &lt;= 0)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        endTime = -1.0f;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        endTime = initialSeekTime + duration;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         else
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         {
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        endTime = initialSeekTime - duration;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:currentColor; font-weight:bold; background-color:inherit">
         if
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
         (endTime &lt; 0)
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        endTime = 0.0f;
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        <span class="comment" style="color:#0820; margin:0px; padding:0px; border:currentColor; background-color:inherit">
         //发送PLAY请求，之后才能从Server端接收数据
        </span>
        <span style="margin:0px; padding:0px; border:currentColor; background-color:inherit">
        </span>
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        startPlayingSession(session, initialSeekTime, endTime, scale,
       </span>
      </li>
      <li class="alt" style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; color:inherit; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        continueAfterPLAY);
       </span>
      </li>
      <li style="border-style:none none none solid; list-style:decimal-leading-zero; margin:0px!important; padding:0px 3px 0px 10px!important; line-height:18px; border-left-color:rgb(108,226,108); border-left-width:3px; background-color:rgb(248,248,248)">
       <span style="color:black; margin:0px; padding:0px; border:currentColor; background-color:inherit">
        }
       </span>
      </li>
     </ol>
    </div>
    <p>
     <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
      仔细看看注释，应很容易了解此函数。
     </span>
    </p>
    <p>
     <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
      <br/>
     </span>
    </p>
    <p>
     <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
      原文地址：
      <a href="http://blog.csdn.net/niu_gao/article/details/6927461" rel="nofollow" target="_blank">
       http://blog.csdn.net/niu_gao/article/details/6927461
      </a>
     </span>
    </p>
    <p>
     <span style="font-family:Arial; font-size:14px; color:#333333; line-height:26px">
      live555源代码（VC6）：
     </span>
     <a href="http://download.csdn.net/detail/leixiaohua1020/6374387" rel="nofollow" style="color:rgb(51,102,153); line-height:26px; font-family:Arial; font-size:14px; text-decoration:none" target="_blank">
      http://download.csdn.net/detail/leixiaohua1020/6374387
     </a>
     <br/>
    </p>
   </div>
  </div>
  <div style="display:none;" class="hide-article-box text-center csdn-tracking-statistics tracking-click" data-mod="popu_376">
   <a class="btn btn-red-hollow" id="btn-readmore">
    阅读更多
   </a>
  </div>
 </article>
 <div class="article-bar-bottom">
  <div class="tags-box artic-tag-box">
   <span class="label">
    文章标签：
   </span>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=live555&amp;t=blog" target="_blank">
    live555
   </a>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=rtsp&amp;t=blog" target="_blank">
    rtsp
   </a>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=Client&amp;t=blog" target="_blank">
    Client
   </a>
   <a class="tag-link" href="http://so.csdn.net/so/search/s.do?q=源代码&amp;t=blog" target="_blank">
    源代码
   </a>
  </div>
  <div class="tags-box">
   <span class="label">
    个人分类：
   </span>
   <a class="tag-link" href="https://blog.csdn.net/leixiaohua1020/article/category/1362936" target="_blank">
    Live555
   </a>
  </div>
  <div class="tags-box">
   <span class="label">
    所属专栏：
   </span>
   <a class="tag-link" href="https://blog.csdn.net/column/details/osmedia.html" target="_blank">
    开源多媒体项目源代码分析
   </a>
  </div>
 </div>
 <!-- !empty($pre_next_article[0]) -->
</div>
<div class="recommend-box">
                            <div style="background: #fff; border: dashed 1px #666; padding-left: 1em; padding-top: 1em; padding-bottom: 1em;">
                                <span style="font-size: 0.8em; font-weight: bold;">
                                    此PDF由<a style="color:#0000ff" href="http://www.github.com/spygg"  target="_blank">spygg</a>生成,请尊重原作者版权!!!
                                    <br/>
                                    我的邮箱:liushidc@163.com
                                </span>
                                </div> 
                        </div>
                    </main>
      
                </div>

            <script>
                var recommendCount = 0;
                var articleTit = "";
                var articleId = "";
                var commentscount = 0;

                //1禁止评论，2正常
                var commentAuth = 1;
                //百度搜索
                var baiduKey = "";
                var needInsertBaidu = "";
            </script>
            <script src="https://csdnimg.cn/release/phoenix/template/js/detail-effe72036e.min.js"></script>
            </body>
        </html>